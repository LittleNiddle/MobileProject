onPressed: () async {
    // Add a new document to the 'rooms' collection and get its DocumentReference.
    DocumentReference docRef = await FirebaseFirestore.instance.collection('rooms').add({
        'brand': brand.text,
        'timestamp': FieldValue.serverTimestamp(),
        'place': place.text,
        'count': 0,
        'uid': [uid],
        'account': account.text,
    });
    
    // Add a new document to the 'texts' subcollection of the new room.
    docRef.collection('texts').add({
        'uid': [uid],
    });
    
    // Now, add this room's ID to the 'rooms' array of the user in the 'users' collection.
    FirebaseFirestore.instance.collection('users').doc(uid).set({
        'rooms': FieldValue.arrayUnion([docRef.id])
    }, SetOptions(merge: true));
},
